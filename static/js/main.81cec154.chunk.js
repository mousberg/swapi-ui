(this["webpackJsonpswapi-ui"]=this["webpackJsonpswapi-ui"]||[]).push([[0],{26:function(e,s,t){},27:function(e,s,t){"use strict";t.r(s);var a=t(1),c=t.n(a),r=t(14),n=t.n(r),i=t(8),o=t(2),l=t(0);var j=()=>Object(l.jsx)("header",{className:"star-wars-header",children:Object(l.jsxs)("div",{className:"header-content",children:[Object(l.jsx)("h1",{children:"Star Wars Characters"}),Object(l.jsx)("div",{className:"header-decoration"})]})});class h extends c.a.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?Object(l.jsxs)("div",{className:"error-message",children:[Object(l.jsx)("h2",{children:"Something went wrong!"}),Object(l.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}var d=h;var b=e=>{let{person:s}=e;const t=Object(o.f)(),c=s.url.split("/")[5],[r,n]=Object(a.useState)(!1),i={"Luke Skywalker":"https://starwars-visualguide.com/assets/img/characters/1.jpg","C-3PO":"https://starwars-visualguide.com/assets/img/characters/2.jpg","R2-D2":"https://starwars-visualguide.com/assets/img/characters/3.jpg","Darth Vader":"https://starwars-visualguide.com/assets/img/characters/4.jpg","Leia Organa":"https://starwars-visualguide.com/assets/img/characters/5.jpg","Owen Lars":"https://starwars-visualguide.com/assets/img/characters/6.jpg","Beru Whitesun lars":"https://starwars-visualguide.com/assets/img/characters/7.jpg","R5-D4":"https://starwars-visualguide.com/assets/img/characters/8.jpg","Biggs Darklighter":"https://starwars-visualguide.com/assets/img/characters/9.jpg","Obi-Wan Kenobi":"https://starwars-visualguide.com/assets/img/characters/10.jpg"};return Object(l.jsxs)("div",{className:"person-card",children:[Object(l.jsx)("div",{className:"person-card-image",children:Object(l.jsx)("img",{src:r?"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(s.name),"&size=300&background=random"):i[s.name]||"https://starwars-visualguide.com/assets/img/characters/".concat(c,".jpg"),alt:s.name,onError:()=>{n(!0)}})}),Object(l.jsxs)("div",{className:"person-card-content",children:[Object(l.jsx)("h2",{children:s.name}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Gender:"})," ",s.gender]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Birth Year:"})," ",s.birth_year]}),Object(l.jsx)("button",{className:"view-button",onClick:()=>{t.push("/person/".concat(c))},children:"View Details"})]})]})};var p=()=>Object(l.jsxs)("div",{className:"loading-container",children:[Object(l.jsxs)("div",{className:"lightsaber-loader",children:[Object(l.jsx)("div",{className:"lightsaber-handle"}),Object(l.jsx)("div",{className:"lightsaber-blade"})]}),Object(l.jsx)("p",{children:"Loading from a galaxy far, far away..."})]});const u="https://swapi.py4e.com/api/";var m=()=>{const[e,s]=Object(a.useState)([]),[t,c]=Object(a.useState)([]),[r,n]=Object(a.useState)(""),[i,o]=Object(a.useState)(!0),[j,h]=Object(a.useState)(null),[d,m]=Object(a.useState)(1),[O,g]=Object(a.useState)(0),[x,w]=Object(a.useState)(window.innerWidth);Object(a.useEffect)((()=>{(async()=>{try{let e=[],s="".concat(u,"/people/");for(;s;){const t=await fetch(s);if(!t.ok)throw new Error("Failed to fetch data");const a=await t.json();e=[...e,...a.results],s=a.next}c(e)}catch(e){h(e.message)}})()}),[]),Object(a.useEffect)((()=>{if(!r){(async()=>{try{o(!0);const e=await fetch("".concat(u,"/people/?page=").concat(d));if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();s(t.results),g(Math.ceil(t.count/10))}catch(e){h(e.message)}finally{o(!1)}})()}}),[d,r]),Object(a.useEffect)((()=>{const e=()=>w(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const v=r?t.filter((e=>e.name.toLowerCase().includes(r.toLowerCase()))):e,f=e=>{m(e),window.scrollTo(0,0)};return j?Object(l.jsxs)("div",{className:"error-message",children:["Error: ",j]}):Object(l.jsx)("div",{className:"home-page",children:Object(l.jsxs)("div",{className:"content-container",children:[Object(l.jsx)("input",{type:"text",placeholder:"Search Characters...",value:r,onChange:e=>n(e.target.value),className:"search-input"}),Object(l.jsx)("div",{className:"card-container",children:i&&!r?Object(l.jsx)(p,{}):v.length>0?v.map(((e,s)=>Object(l.jsx)(b,{person:e},s))):Object(l.jsx)("p",{children:"No characters found"})}),!r&&Object(l.jsx)("div",{className:"pagination",children:x<=480?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:()=>f(d-1),disabled:1===d,children:"Previous"}),Object(l.jsxs)("button",{className:"active",children:[d," / ",O]}),Object(l.jsx)("button",{onClick:()=>f(d+1),disabled:d===O,children:"Next"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:()=>f(d-1),disabled:1===d,children:"Previous"}),[...Array(O)].map(((e,s)=>Object(l.jsx)("button",{onClick:()=>f(s+1),className:d===s+1?"active":"",children:s+1},s+1))),Object(l.jsx)("button",{onClick:()=>f(d+1),disabled:d===O,children:"Next"})]})})]})})};const O={people:{},planets:{}};var g=e=>{let{match:s}=e;const[t,c]=Object(a.useState)(null),[r,n]=Object(a.useState)(null),[i,j]=Object(a.useState)([]),[h,d]=Object(a.useState)(!0),[b,u]=Object(a.useState)(null),m=Object(o.f)();Object(a.useEffect)((()=>{let e=!0;return(async()=>{try{d(!0);const t=s.params.id;if(O.people[t]&&(c(O.people[t]),O.planets[O.people[t].homeworld])){const e=O.planets[O.people[t].homeworld];return n(e),void await g(e,O.people[t].url)}const a=await fetch("".concat("https://swapi.py4e.com/api/","/people/").concat(t,"/"));if(!a.ok)throw new Error("Failed to fetch person data");const r=await a.json();O.people[t]=r,e&&c(r);const i=await fetch(r.homeworld);if(!i.ok)throw new Error("Failed to fetch planet data");const o=await i.json();O.planets[r.homeworld]=o,e&&(n(o),await g(o,r.url))}catch(t){e&&u(t.message)}finally{e&&d(!1)}})(),()=>{e=!1}}),[s.params.id]);const g=async(e,s)=>{const t=e.residents.filter((e=>e!==s)).map((async e=>{if(O.people[e])return O.people[e];const s=await fetch(e),t=await s.json();return O.people[e]=t,t})),a=await Promise.all(t);j(a)};return b?Object(l.jsxs)("div",{className:"error-message",children:["Error: ",b]}):h?Object(l.jsx)(p,{}):t&&r?Object(l.jsxs)("div",{className:"person-detail",children:[Object(l.jsx)("button",{className:"back-button",onClick:()=>m.push("/"),children:"\u2190 Back"}),Object(l.jsx)("h1",{children:t.name}),Object(l.jsxs)("div",{className:"person-info",children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Height:"}),Object(l.jsxs)("span",{children:[t.height,"cm"]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Mass:"})," ",t.mass,"kg"]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Birth Year:"})," ",t.birth_year]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Gender:"})," ",t.gender]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Eye Color:"})," ",t.eye_color]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Hair Color:"})," ",t.hair_color]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Home Planet:"})," ",r.name]})]}),Object(l.jsxs)("div",{className:"neighbors",children:[Object(l.jsxs)("h2",{children:["Planet Neighbors from ",r.name]}),i.length>0?Object(l.jsx)("div",{className:"neighbors-grid",children:i.map(((e,s)=>Object(l.jsxs)("div",{className:"neighbor-card",onClick:()=>{const s=e.url.split("/")[5];m.push("/person/".concat(s))},children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsxs)("p",{children:["Birth Year: ",e.birth_year]})]},s)))}):Object(l.jsx)("p",{children:"No other residents found on this planet"})]})]}):null};var x=function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{}),Object(l.jsx)(d,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(l.jsx)(o.a,{path:"/person/:id",component:g})]})})]})};t(26);n.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.81cec154.chunk.js.map