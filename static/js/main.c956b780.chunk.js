(this["webpackJsonpswapi-ui"]=this["webpackJsonpswapi-ui"]||[]).push([[0],{27:function(e,s,t){},28:function(e,s,t){"use strict";t.r(s);var a=t(1),c=t.n(a),r=t(15),n=t.n(r),i=t(8),l=t(2),o=t(0);var h=()=>{const e=Object(l.f)();return Object(o.jsx)("header",{className:"star-wars-header",children:Object(o.jsxs)("div",{className:"header-content",children:[Object(o.jsx)("h1",{onClick:()=>e.push("/"),className:"header-title",children:"Star Wars Characters"}),Object(o.jsx)("div",{className:"header-decoration"})]})})};class j extends c.a.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?Object(o.jsxs)("div",{className:"error-message",children:[Object(o.jsx)("h2",{children:"Something went wrong!"}),Object(o.jsx)("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}var d=j;var m=e=>{let{person:s}=e;const t=Object(l.f)(),c=s.url.split("/")[5],[r,n]=Object(a.useState)(!1),i={"Luke Skywalker":"https://starwars-visualguide.com/assets/img/characters/1.jpg","C-3PO":"https://starwars-visualguide.com/assets/img/characters/2.jpg","R2-D2":"https://starwars-visualguide.com/assets/img/characters/3.jpg","Darth Vader":"https://starwars-visualguide.com/assets/img/characters/4.jpg","Leia Organa":"https://starwars-visualguide.com/assets/img/characters/5.jpg","Owen Lars":"https://starwars-visualguide.com/assets/img/characters/6.jpg","Beru Whitesun lars":"https://starwars-visualguide.com/assets/img/characters/7.jpg","R5-D4":"https://starwars-visualguide.com/assets/img/characters/8.jpg","Biggs Darklighter":"https://starwars-visualguide.com/assets/img/characters/9.jpg","Obi-Wan Kenobi":"https://starwars-visualguide.com/assets/img/characters/10.jpg"};return Object(o.jsxs)("div",{className:"person-card",children:[Object(o.jsx)("div",{className:"person-card-image",children:Object(o.jsx)("img",{src:r?"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(s.name),"&size=300&background=random"):i[s.name]||"https://starwars-visualguide.com/assets/img/characters/".concat(c,".jpg"),alt:s.name,onError:()=>{n(!0)}})}),Object(o.jsxs)("div",{className:"person-card-content",children:[Object(o.jsx)("h2",{children:s.name}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Gender:"})," ",s.gender]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Birth Year:"})," ",s.birth_year]}),Object(o.jsx)("button",{className:"view-button",onClick:()=>{t.push("/person/".concat(c))},children:"View Details"})]})]})};var u=()=>Object(o.jsxs)("div",{className:"loading-container",children:[Object(o.jsxs)("div",{className:"lightsaber-loader",children:[Object(o.jsx)("div",{className:"lightsaber-handle"}),Object(o.jsx)("div",{className:"lightsaber-blade"})]}),Object(o.jsx)("p",{children:"Loading from a galaxy far, far away..."})]}),b=t(12);var p=e=>{let{character:s}=e;const t=(e,s)=>{if("unknown"===e||"none"===e||!e)return"Unknown";const t=parseInt(e);return isNaN(t)?"Unknown":"".concat(t).concat(s)},a=[{label:"Height",value:t(s.height,"cm"),rawValue:parseInt(s.height)||0,max:300},{label:"Mass",value:t(s.mass,"kg"),rawValue:parseInt(s.mass)||0,max:200}];return Object(o.jsx)("div",{className:"stats-container",children:a.map((e=>Object(o.jsxs)("div",{className:"stat-bar",children:[Object(o.jsxs)("div",{className:"stat-header",children:[Object(o.jsx)("span",{className:"stat-label",children:e.label}),Object(o.jsx)("span",{className:"stat-value",children:e.value})]}),Object(o.jsx)("div",{className:"bar-container",children:Object(o.jsx)("div",{className:"bar-fill ".concat("Unknown"===e.value?"unknown":""),style:{width:"Unknown"===e.value?"30%":"".concat(e.rawValue/e.max*100,"%")}})})]},e.label)))})};var g=e=>{let{characters:s}=e;const[t,c]=Object(a.useState)(null),[r,n]=Object(a.useState)(null),[i,l]=Object(a.useState)(null),[h,j]=Object(a.useState)(!1),[d,m]=Object(a.useState)(!1),[u,g]=Object(a.useState)(null),O={"Luke Skywalker-Darth Vader":{message:"The Force is strong in this family duel!",animation:"force-clash",quote:"No, I am your father!"},"Obi-Wan Kenobi-Darth Vader":{message:"A battle between master and apprentice!",animation:"high-ground",quote:"You were the chosen one!"},"Emperor Palpatine-Yoda":{message:"A clash between the most powerful Force users!",animation:"force-lightning",quote:"The dark side of the Force is a pathway to many abilities some consider to be unnatural."},"Han Solo-Boba Fett":{message:"The smuggler versus the bounty hunter!",animation:"blaster-duel",quote:"I've been looking forward to this for a long time."},"Leia Organa-Darth Vader":{message:"Father and daughter face off!",animation:"force-family",quote:"The Force runs strong in my family."}};Object(a.useEffect)((()=>{if(t&&r){const e="".concat(t.name,"-").concat(r.name),s="".concat(r.name,"-").concat(t.name);g(O[e]?O[e]:O[s]?O[s]:null)}}),[t,r]);const x=e=>{const s=parseInt(e.height)||0,t=parseInt(e.mass)||0;if(("unknown"===e.height||"none"===e.height)&&("unknown"===e.mass||"none"===e.mass))return null;let a=.6*s+.4*t;const c={"Darth Vader":200,"Luke Skywalker":190,Yoda:200,"Obi-Wan Kenobi":180,"Emperor Palpatine":195,"Leia Organa":150,"Han Solo":140,"Boba Fett":145,"General Grievous":160,Chewbacca:155};return c[e.name]&&(a=c[e.name]),a},w=(e,s)=>{if(!e)return"";const t=e.url.split("/")[5];return{"Luke Skywalker":"https://starwars-visualguide.com/assets/img/characters/1.jpg","C-3PO":"https://starwars-visualguide.com/assets/img/characters/2.jpg","R2-D2":"https://starwars-visualguide.com/assets/img/characters/3.jpg","Darth Vader":"https://starwars-visualguide.com/assets/img/characters/4.jpg","Leia Organa":"https://starwars-visualguide.com/assets/img/characters/5.jpg","Owen Lars":"https://starwars-visualguide.com/assets/img/characters/6.jpg","Beru Whitesun lars":"https://starwars-visualguide.com/assets/img/characters/7.jpg","R5-D4":"https://starwars-visualguide.com/assets/img/characters/8.jpg","Biggs Darklighter":"https://starwars-visualguide.com/assets/img/characters/9.jpg","Obi-Wan Kenobi":"https://starwars-visualguide.com/assets/img/characters/10.jpg"}[e.name]||"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg")};return Object(o.jsxs)("div",{className:"compare-panel",children:[Object(o.jsx)("h2",{children:"Character Battle Arena"}),Object(o.jsxs)("div",{className:"battle-selection",children:[Object(o.jsxs)("div",{className:"character-selector",children:[Object(o.jsx)("h3",{children:"Choose Fighter 1"}),Object(o.jsx)("div",{className:"character-portrait",children:t&&Object(o.jsx)("img",{src:h?"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t.name),"&size=300&background=random"):w(t),alt:t.name,onError:()=>j(!0)})}),Object(o.jsxs)("select",{value:t?s.indexOf(t):"",onChange:e=>{const t=e.target.value;j(!1),g(null),l(null),c(""===t?null:s[t])},children:[Object(o.jsx)("option",{value:"",children:"Select a character..."}),s.map(((e,s)=>Object(o.jsx)("option",{value:s,children:e.name},s)))]}),t&&Object(o.jsx)(p,{character:t})]}),Object(o.jsxs)("div",{className:"battle-divider",children:[Object(o.jsx)("div",{className:"vs-symbol",children:"VS"}),t&&r&&!i&&Object(o.jsxs)("div",{className:"lightsaber-cross",children:[Object(o.jsx)("div",{className:"lightsaber blue"}),Object(o.jsx)("div",{className:"lightsaber red"})]})]}),Object(o.jsxs)("div",{className:"character-selector",children:[Object(o.jsx)("h3",{children:"Choose Fighter 2"}),Object(o.jsx)("div",{className:"character-portrait",children:r&&Object(o.jsx)("img",{src:d?"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(r.name),"&size=300&background=random"):w(r),alt:r.name,onError:()=>m(!0)})}),Object(o.jsxs)("select",{value:r?s.indexOf(r):"",onChange:e=>{const t=e.target.value;m(!1),g(null),l(null),n(""===t?null:s[t])},children:[Object(o.jsx)("option",{value:"",children:"Select a character..."}),s.map(((e,s)=>Object(o.jsx)("option",{value:s,children:e.name},s)))]}),r&&Object(o.jsx)(p,{character:r})]})]}),Object(o.jsx)("div",{className:"battle-controls",children:t&&r?Object(o.jsx)("button",{className:"battle-button",onClick:()=>{if(!t||!r)return;const e=x(t),s=x(r);let a;if(null===e&&null===s)a="Both fighters are shrouded in mystery - battle cannot be determined!";else if(null===e)a="".concat(r.name," wins by default - ").concat(t.name,"'s power is unknown!");else if(null===s)a="".concat(t.name," wins by default - ").concat(r.name,"'s power is unknown!");else{const c=((e,s)=>"Luke Skywalker"===e.name&&"Darth Vader"===s.name||"Luke Skywalker"===s.name&&"Darth Vader"===e.name?{winner:"Luke Skywalker",description:"Turned to the light side and won!",quote:"There is still good in you, Father!",animation:"force-clash"}:null)(t,r);if(c)a=Object(b.a)(Object(b.a)({},c),{},{powerLevels:{[t.name]:Math.round(e),[r.name]:Math.round(s)}});else{const c=e>s?t:r,n=Math.abs(e-s);let i;i=n>50?"Absolutely demolished their opponent!":n>30?"Won with impressive strength!":"Barely won in an epic battle!",a={winner:c.name,description:i,powerLevels:{[t.name]:Math.round(e),[r.name]:Math.round(s)}}}}l(a)},children:"Start Battle!"}):Object(o.jsx)("p",{children:"Select two characters to begin the battle!"})}),u&&!i&&Object(o.jsxs)("div",{className:"special-battle-alert ".concat(u.animation),children:[Object(o.jsx)("p",{className:"special-battle-message",children:u.message}),Object(o.jsxs)("p",{className:"special-battle-quote",children:['"',u.quote,'"']})]}),i&&Object(o.jsxs)("div",{className:"battle-result",children:[Object(o.jsx)("div",{className:"winner-announcement",children:"string"===typeof i?Object(o.jsx)("h3",{children:i}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h3",{children:[i.winner," ",i.description]}),i.quote&&Object(o.jsxs)("p",{className:"iconic-quote",children:['"',i.quote,'"']}),Object(o.jsx)("div",{className:"victory-animation"}),Object(o.jsxs)("div",{className:"power-levels",children:[Object(o.jsxs)("p",{children:[t.name,"'s Power Level: ",i.powerLevels[t.name]]}),Object(o.jsxs)("p",{children:[r.name,"'s Power Level: ",i.powerLevels[r.name]]})]})]})}),Object(o.jsx)("button",{className:"reset-button",onClick:()=>{l(null),c(null),n(null),j(!1),m(!1),g(null)},children:"Reset Battle"})]})]})};const O="https://swapi.py4e.com/api/";var x=()=>{const[e,s]=Object(a.useState)([]),[t,c]=Object(a.useState)([]),[r,n]=Object(a.useState)(""),[i,l]=Object(a.useState)(!0),[h,j]=Object(a.useState)(null),[d,b]=Object(a.useState)(1),[p,x]=Object(a.useState)(0),[w,v]=Object(a.useState)(window.innerWidth),[f,k]=Object(a.useState)(!1);Object(a.useEffect)((()=>{(async()=>{try{let e=[],s="".concat(O,"/people/");for(;s;){const t=await fetch(s);if(!t.ok)throw new Error("Failed to fetch data");const a=await t.json();e=[...e,...a.results],s=a.next}c(e)}catch(e){j(e.message)}})()}),[]),Object(a.useEffect)((()=>{if(!r){(async()=>{try{l(!0);const e=await fetch("".concat(O,"/people/?page=").concat(d));if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();s(t.results),x(Math.ceil(t.count/10))}catch(e){j(e.message)}finally{l(!1)}})()}}),[d,r]),Object(a.useEffect)((()=>{const e=()=>v(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const N=r?t.filter((e=>e.name.toLowerCase().includes(r.toLowerCase()))):e,y=e=>{b(e),window.scrollTo(0,0)};return h?Object(o.jsxs)("div",{className:"error-message",children:["Error: ",h]}):Object(o.jsx)("div",{className:"home-page",children:Object(o.jsxs)("div",{className:"content-container",children:[Object(o.jsxs)("div",{className:"mode-toggle",children:[Object(o.jsx)("button",{className:"mode-button ".concat(f?"":"active"),onClick:()=>k(!1),children:"Browse Mode"}),Object(o.jsx)("button",{className:"mode-button ".concat(f?"active":""),onClick:()=>k(!0),children:"Battle Mode"})]}),f?Object(o.jsx)(g,{characters:t}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"text",placeholder:"Search Characters...",value:r,onChange:e=>n(e.target.value),className:"search-input"}),Object(o.jsx)("div",{className:"card-container",children:i&&!r?Object(o.jsx)(u,{}):N.length>0?N.map(((e,s)=>Object(o.jsx)(m,{person:e},s))):Object(o.jsx)("p",{children:"No characters found"})}),!r&&Object(o.jsx)("div",{className:"pagination",children:w<=480?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{onClick:()=>y(d-1),disabled:1===d,children:"Previous"}),Object(o.jsxs)("button",{className:"active",children:[d," / ",p]}),Object(o.jsx)("button",{onClick:()=>y(d+1),disabled:d===p,children:"Next"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{onClick:()=>y(d-1),disabled:1===d,children:"Previous"}),[...Array(p)].map(((e,s)=>Object(o.jsx)("button",{onClick:()=>y(s+1),className:d===s+1?"active":"",children:s+1},s+1))),Object(o.jsx)("button",{onClick:()=>y(d+1),disabled:d===p,children:"Next"})]})})]})]})})};const w={people:{},planets:{}};var v=e=>{let{match:s}=e;const[t,c]=Object(a.useState)(null),[r,n]=Object(a.useState)(null),[i,h]=Object(a.useState)([]),[j,d]=Object(a.useState)(!0),[m,b]=Object(a.useState)(null),[p,g]=Object(a.useState)(!1),O=Object(l.f)(),x={"Luke Skywalker":"https://starwars-visualguide.com/assets/img/characters/1.jpg","C-3PO":"https://starwars-visualguide.com/assets/img/characters/2.jpg","R2-D2":"https://starwars-visualguide.com/assets/img/characters/3.jpg","Darth Vader":"https://starwars-visualguide.com/assets/img/characters/4.jpg","Leia Organa":"https://starwars-visualguide.com/assets/img/characters/5.jpg","Owen Lars":"https://starwars-visualguide.com/assets/img/characters/6.jpg","Beru Whitesun lars":"https://starwars-visualguide.com/assets/img/characters/7.jpg","R5-D4":"https://starwars-visualguide.com/assets/img/characters/8.jpg","Biggs Darklighter":"https://starwars-visualguide.com/assets/img/characters/9.jpg","Obi-Wan Kenobi":"https://starwars-visualguide.com/assets/img/characters/10.jpg"};Object(a.useEffect)((()=>{let e=!0;return(async()=>{try{d(!0);const t=s.params.id;if(w.people[t]&&(c(w.people[t]),w.planets[w.people[t].homeworld])){const e=w.planets[w.people[t].homeworld];return n(e),void await v(e,w.people[t].url)}const a=await fetch("".concat("https://swapi.py4e.com/api/","/people/").concat(t,"/"));if(!a.ok)throw new Error("Failed to fetch person data");const r=await a.json();w.people[t]=r,e&&c(r);const i=await fetch(r.homeworld);if(!i.ok)throw new Error("Failed to fetch planet data");const l=await i.json();w.planets[r.homeworld]=l,e&&(n(l),await v(l,r.url))}catch(t){e&&b(t.message)}finally{e&&d(!1)}})(),()=>{e=!1}}),[s.params.id]);const v=async(e,s)=>{const t=e.residents.filter((e=>e!==s)).map((async e=>{if(w.people[e])return w.people[e];const s=await fetch(e),t=await s.json();return w.people[e]=t,t})),a=await Promise.all(t);h(a)};return m?Object(o.jsxs)("div",{className:"error-message",children:["Error: ",m]}):j?Object(o.jsx)(u,{}):t&&r?Object(o.jsxs)("div",{className:"person-detail",children:[Object(o.jsx)("button",{className:"back-button",onClick:()=>{O.goBack()},children:"\u2190 Back"}),Object(o.jsxs)("div",{className:"person-detail-header",children:[Object(o.jsx)("div",{className:"character-portrait detail-portrait",children:Object(o.jsx)("img",{src:p?"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t.name),"&size=300&background=random"):(e=>{if(!e)return"";const s=e.url.split("/")[5];return x[e.name]||"https://starwars-visualguide.com/assets/img/characters/".concat(s,".jpg")})(t),alt:t.name,onError:()=>g(!0)})}),Object(o.jsx)("h1",{children:t.name})]}),Object(o.jsxs)("div",{className:"person-info",children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Height:"})," ","unknown"===t.height?"Unknown":"".concat(t.height,"cm")]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Mass:"})," ","unknown"===t.mass?"Unknown":"".concat(t.mass,"kg")]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Birth Year:"})," ",t.birth_year]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Gender:"})," ",t.gender]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Eye Color:"})," ",t.eye_color]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Hair Color:"})," ",t.hair_color]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Home Planet:"})," ",r.name]})]}),Object(o.jsxs)("div",{className:"neighbors",children:[Object(o.jsxs)("h2",{children:["Planet Neighbors from ",r.name]}),i.length>0?Object(o.jsx)("div",{className:"neighbors-grid",children:i.map(((e,s)=>Object(o.jsxs)("div",{className:"neighbor-card",onClick:()=>{const s=e.url.split("/")[5];O.push("/person/".concat(s))},children:[Object(o.jsx)("h3",{children:e.name}),Object(o.jsxs)("p",{children:["Birth Year: ",e.birth_year]})]},s)))}):Object(o.jsx)("p",{children:"No other residents found on this planet"})]})]}):null};var f=function(){return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(h,{}),Object(o.jsx)(d,{children:Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",component:x}),Object(o.jsx)(l.a,{path:"/person/:id",component:v})]})})]})};t(27);n.a.render(Object(o.jsx)(i.a,{children:Object(o.jsx)(f,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.c956b780.chunk.js.map